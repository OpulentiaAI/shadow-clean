{
  "timestamp": "2025-12-28T22:49:16.643Z",
  "environment": {
    "convexConfigured": true
  },
  "tests": [
    {
      "capability": "CAP-01",
      "name": "testConnection",
      "command": "npx convex run daytona:testConnection '{}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:18.041Z",
      "data": {
        "config": {
          "apiUrl": "https://app.daytona.io/api",
          "hasApiKey": true
        },
        "message": "Daytona connection successful",
        "sandboxCount": 0,
        "success": true
      },
      "invariants": "success=true, hasApiKey=true, sandboxCount>=0"
    },
    {
      "capability": "CAP-03",
      "name": "listSandboxes_preCreate",
      "command": "npx convex run daytona:listSandboxes '{}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:18.838Z",
      "data": {
        "sandboxes": [],
        "success": true
      },
      "invariants": "success=true, sandboxes is array"
    },
    {
      "capability": "CAP-02",
      "name": "createSandbox",
      "command": "npx convex run daytona:createSandbox '{\"language\":\"typescript\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:19.706Z",
      "data": {
        "sandbox": {
          "autoArchiveInterval": 10080,
          "autoDeleteInterval": -1,
          "autoStopInterval": 15,
          "backupState": "None",
          "class": "small",
          "cpu": 1,
          "createdAt": "2025-12-28T22:49:19.643Z",
          "daemonVersion": "0.0.0-dev",
          "desiredState": "started",
          "disk": 3,
          "env": {},
          "errorReason": null,
          "gpu": 0,
          "id": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
          "labels": {},
          "memory": 1,
          "name": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
          "networkAllowList": null,
          "networkBlockAll": false,
          "organizationId": "2245f69f-8758-4ea4-a647-d2e514cb6c3f",
          "public": false,
          "recoverable": false,
          "snapshot": "daytonaio/sandbox:0.4.3",
          "state": "started",
          "target": "us",
          "updatedAt": "2025-12-28T22:49:19.645Z",
          "user": "daytona",
          "volumes": []
        },
        "success": true
      },
      "invariants": "success=true, sandbox.id exists, sandbox.state=started"
    },
    {
      "capability": "CAP-04",
      "name": "getSandbox",
      "command": "npx convex run daytona:getSandbox '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:20.566Z",
      "data": {
        "sandbox": {
          "autoArchiveInterval": 10080,
          "autoDeleteInterval": -1,
          "autoStopInterval": 15,
          "backupState": "None",
          "class": "small",
          "cpu": 1,
          "createdAt": "2025-12-28T22:49:19.643Z",
          "daemonVersion": "0.0.0-dev",
          "desiredState": "started",
          "disk": 3,
          "env": {},
          "errorReason": null,
          "gpu": 0,
          "id": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
          "labels": {},
          "memory": 1,
          "name": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
          "networkAllowList": null,
          "networkBlockAll": false,
          "organizationId": "2245f69f-8758-4ea4-a647-d2e514cb6c3f",
          "public": false,
          "recoverable": false,
          "snapshot": "daytonaio/sandbox:0.4.3",
          "state": "started",
          "target": "us",
          "updatedAt": "2025-12-28T22:49:19.645Z",
          "user": "daytona",
          "volumes": []
        },
        "success": true
      },
      "invariants": "success=true, sandbox.id matches"
    },
    {
      "capability": "CAP-09",
      "name": "getPreviewUrl",
      "command": "npx convex run daytona:getPreviewUrl '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\",\"port\":3000}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:21.490Z",
      "data": {
        "port": 3000,
        "previewUrl": "https://3000-c0357ebf-dfe2-4d3f-b9e9-696d4548781d.proxy.daytona.works",
        "sandboxId": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
        "success": true
      },
      "invariants": "success=true, previewUrl matches pattern https://{port}-{id}.proxy.daytona.works"
    },
    {
      "capability": "CAP-10",
      "name": "getTerminalUrl",
      "command": "npx convex run daytona:getTerminalUrl '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:22.301Z",
      "data": {
        "sandboxId": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
        "success": true,
        "terminalUrl": "https://22222-c0357ebf-dfe2-4d3f-b9e9-696d4548781d.proxy.daytona.works"
      },
      "invariants": "success=true, terminalUrl matches pattern https://22222-{id}.proxy.daytona.works"
    },
    {
      "capability": "CAP-06",
      "name": "executeCommandNode",
      "command": "npx convex run daytonaNode:executeCommandNode '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\",\"command\":\"echo \\\"DAYTONA_TEST_OK\\\" && pwd && whoami\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:25.614Z",
      "data": {
        "result": {
          "exitCode": 0,
          "stdout": "DAYTONA_TEST_OK\n/home/daytona\ndaytona\n"
        },
        "success": true
      },
      "invariants": "success=true, exitCode=0, stdout contains DAYTONA_TEST_OK"
    },
    {
      "capability": "CAP-08",
      "name": "writeFile_viaCommand",
      "command": "npx convex run daytonaNode:executeCommandNode '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\",\"command\":\"echo \\\"Hello from Daytona QA test\\\" > /home/daytona/qa_test.txt && cat /home/daytona/qa_test.txt\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:28.532Z",
      "data": {
        "result": {
          "exitCode": 0,
          "stdout": "Hello from Daytona QA test\n"
        },
        "success": true
      },
      "invariants": "success=true, stdout contains test content"
    },
    {
      "capability": "CAP-07",
      "name": "gitCloneNode",
      "command": "npx convex run daytonaNode:gitCloneNode '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\",\"url\":\"https://github.com/octocat/Hello-World.git\",\"path\":\"/home/daytona/hello-world\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:31.659Z",
      "data": {
        "branch": "default",
        "depth": 1,
        "message": "Cloned https://github.com/octocat/Hello-World.git to /home/daytona/hello-world",
        "success": true
      },
      "invariants": "success=true (or 502 timeout for large repos)"
    },
    {
      "capability": "CAP-07",
      "name": "gitClone_verify",
      "command": "npx convex run daytonaNode:executeCommandNode '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\",\"command\":\"ls -la /home/daytona/hello-world\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:34.831Z",
      "data": {
        "result": {
          "exitCode": 0,
          "stdout": "total 4\ndrwxr-xr-x 3 daytona daytona  44 Dec 28 22:49 .\ndrwxr-xr-x 1 daytona daytona  76 Dec 28 22:49 ..\ndrwxr-xr-x 7 daytona daytona 162 Dec 28 22:49 .git\n-rw-r--r-- 1 daytona daytona  13 Dec 28 22:49 README\n"
        },
        "success": true
      },
      "invariants": "directory exists and contains files"
    },
    {
      "capability": "CAP-11",
      "name": "takeScreenshotNode",
      "command": "npx convex run daytonaNode:takeScreenshotNode '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:37.699Z",
      "data": {
        "error": "(intermediate value).computerUse.screenshot is not a function",
        "success": false
      },
      "invariants": "success=true OR expected error (no desktop configured)"
    },
    {
      "capability": "CAP-03",
      "name": "listSandboxes_postCreate",
      "command": "npx convex run daytona:listSandboxes '{}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:38.518Z",
      "data": {
        "sandboxes": [
          {
            "autoArchiveInterval": 10080,
            "autoDeleteInterval": -1,
            "autoStopInterval": 15,
            "backupState": "None",
            "class": "small",
            "cpu": 1,
            "createdAt": "2025-12-28T22:49:19.643Z",
            "daemonVersion": "0.0.0-dev",
            "desiredState": "started",
            "disk": 3,
            "env": {},
            "errorReason": null,
            "gpu": 0,
            "id": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
            "labels": {},
            "memory": 1,
            "name": "c0357ebf-dfe2-4d3f-b9e9-696d4548781d",
            "networkAllowList": null,
            "networkBlockAll": false,
            "organizationId": "2245f69f-8758-4ea4-a647-d2e514cb6c3f",
            "public": false,
            "recoverable": false,
            "snapshot": "daytonaio/sandbox:0.4.3",
            "state": "started",
            "target": "us",
            "updatedAt": "2025-12-28T22:49:23.322Z",
            "user": "daytona",
            "volumes": []
          }
        ],
        "success": true
      },
      "invariants": "success=true, count increased or contains our sandbox"
    },
    {
      "capability": "CAP-05",
      "name": "deleteSandbox",
      "command": "npx convex run daytona:deleteSandbox '{\"sandboxId\":\"c0357ebf-dfe2-4d3f-b9e9-696d4548781d\"}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:39.700Z",
      "data": {
        "message": "Sandbox c0357ebf-dfe2-4d3f-b9e9-696d4548781d deleted",
        "success": true
      },
      "invariants": "success=true"
    },
    {
      "capability": "CAP-03",
      "name": "listSandboxes_verifyDelete",
      "command": "npx convex run daytona:listSandboxes '{}'",
      "passed": true,
      "timestamp": "2025-12-28T22:49:40.736Z",
      "data": {
        "sandboxes": [],
        "success": true
      },
      "invariants": "sandbox no longer in list"
    }
  ],
  "summary": {
    "passed": 14,
    "failed": 0,
    "skipped": 0
  }
}